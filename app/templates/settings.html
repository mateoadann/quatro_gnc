{% extends "base.html" %}

{% block content %}
<section class="hero compact">
  <div>
    <h1>Perfil de usuario</h1>
    <p>Actualiza las credenciales necesarias para Enargas.</p>
  </div>
</section>

<section class="grid single">
  <div class="card">
    <h2>Credenciales Enargas</h2>
    <form class="form-grid" method="post">
      <label>
        Usuario Enargas
        <input
          type="text"
          name="enargas_user"
          value="{{ credentials.enargas_user if credentials else '' }}"
          required
        />
      </label>
      <label>
        Contrasena Enargas
        <div class="input-with-toggle">
          <input
            type="password"
            id="enargas-password"
            name="enargas_password"
            placeholder="{{ masked_password or '********' }}"
            {% if not credentials %}required{% endif %}
          />
          <button
            class="toggle-password"
            type="button"
            data-toggle-password
            data-target="enargas-password"
            aria-label="Mostrar contrasena"
            aria-pressed="false"
          >
            <span class="icon-eye" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="presentation">
                <path
                  d="M12 5C6.5 5 2 9.5 1 12c1 2.5 5.5 7 11 7s10-4.5 11-7c-1-2.5-5.5-7-11-7zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"
                  fill="currentColor"
                />
              </svg>
            </span>
            <span class="icon-eye-off" aria-hidden="true">
              <svg viewBox="0 0 24 24" role="presentation">
                <path
                  d="M3.5 4.9 2.1 6.3l3 3C3 10.6 1.7 12 1 13c1 2.5 5.5 7 11 7 2 0 3.8-.5 5.3-1.3l3 3 1.4-1.4L3.5 4.9zM12 18c-3.7 0-6.9-2.5-8.5-5 0-.1 1-1.5 2.9-3.1l2.1 2.1a4 4 0 0 0 5.6 5.6l1.8 1.8c-1.1.4-2.4.6-3.9.6zm0-10a4 4 0 0 1 4 4c0 .6-.1 1.2-.4 1.7l-5.3-5.3c.5-.3 1.1-.4 1.7-.4zm8.5 5c-.4.7-1.3 2.1-2.8 3.3l-2-2a4 4 0 0 0-5.6-5.6L8 6.7c1.2-.5 2.5-.7 4-.7 3.7 0 6.9 2.5 8.5 5z"
                  fill="currentColor"
                />
              </svg>
            </span>
          </button>
        </div>
      </label>
      <button class="primary-btn" type="submit">Guardar cambios</button>
      <p class="muted">La contrasena se cifra antes de almacenarse.</p>
    </form>
  </div>
</section>
{% endblock %}
